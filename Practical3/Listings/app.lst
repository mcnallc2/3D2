


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             AsmTemplate, CODE, READONLY
    2 00000000                 IMPORT           main
    3 00000000         
    4 00000000         ; Practical 2 makes the 4 LEDs light up to represent a 3
                       2 bit number
    5 00000000         ; Group 24
    6 00000000         
    7 00000000                 EXPORT           start
    8 00000000         start
    9 00000000         
   10 00000000         ;initalising the outputs to the board
   11 00000000 E0028018 
                       IO1DIR  EQU              0xE0028018
   12 00000000 E0028014 
                       IO1SET  EQU              0xE0028014
   13 00000000 E002801C 
                       IO1CLR  EQU              0xE002801C
   14 00000000 E0028010 
                       IO1PIN  EQU              0xE0028010
   15 00000000         
   16 00000000 E59F104C        ldr              r1,=IO1DIR
   17 00000004 E3A0280F        ldr              r2,=0x000F0000 ;select P1.19--P
                                                            1.16
   18 00000008 E5812000        str              r2,[r1]     ;make them outputs
   19 0000000C E59F1044        ldr              r1,=IO1SET
   20 00000010 E5812000        str              r2,[r1]     ;set them to turn t
                                                            he LEDs off
   21 00000014 E59F2040        ldr              r2,=IO1CLR
   22 00000018         
   23 00000018 E59F5040        ldr              r5, =IO1PIN
   24 0000001C         
   25 0000001C         ; r1 points to the SET register
   26 0000001C         ; r2 points to the CLEAR register
   27 0000001C         
   28 0000001C         ;set the registers that represent each LED
   29 0000001C E3A03702        ldr              r3,=0x00080000 ; r3 is now led 
                                                            P1.16.
   30 00000020 E3A04601        ldr              r4,=0x00100000 ; r4 is now butt
                                                            on P1.20
   31 00000024         
   32 00000024         
   33 00000024         ;entering main loop
   34 00000024         loop
   35 00000024         
   36 00000024 E5956000        ldr              r6, [r5]
   37 00000028 E0066004        and              r6, r6, r4
   38 0000002C E3560000        cmp              r6, #0
   39 00000030 1A000005        bne              skip
   40 00000034         
   41 00000034 E5823000        str              r3, [r2]
   42 00000038         
   43 00000038 E59F7024        ldr              r7,=20000000 ;delay to show the
                                                             number
   44 0000003C E1A07007        mov              r7, r7
   45 00000040         num_delay
   46 00000040 E2577001        subs             r7,r7,#1
   47 00000044 1AFFFFFD        bne              num_delay
   48 00000048         
   49 00000048 E5813000        str              r3, [r1]



ARM Macro Assembler    Page 2 


   50 0000004C         
   51 0000004C         skip
   52 0000004C EAFFFFF4        B                loop
   53 00000050         
   54 00000050         
   55 00000050         
   56 00000050 EAFFFFFE 
                       stop    B                stop
   57 00000054         
   58 00000054                 END
              E0028018 
              E0028014 
              E002801C 
              E0028010 
              01312D00 
Command Line: --debug --xref --diag_suppress=9931 --apcs=interwork --depend=.\a
pp.d -o.\app.o -IC:\Keil_v5\ARM\RV31\INC -IC:\Keil_v5\ARM\CMSIS\Include -IC:\Ke
il_v5\ARM\Inc\Philips --predefine="__EVAL SETA 1" --predefine="__MICROLIB SETA 
1" --predefine="__UVISION_VERSION SETA 516" --list=.\listings\app.lst App.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

AsmTemplate 00000000

Symbol: AsmTemplate
   Definitions
      At line 1 in file App.s
   Uses
      None
Comment: AsmTemplate unused
loop 00000024

Symbol: loop
   Definitions
      At line 34 in file App.s
   Uses
      At line 52 in file App.s
Comment: loop used once
num_delay 00000040

Symbol: num_delay
   Definitions
      At line 45 in file App.s
   Uses
      At line 47 in file App.s
Comment: num_delay used once
skip 0000004C

Symbol: skip
   Definitions
      At line 51 in file App.s
   Uses
      At line 39 in file App.s
Comment: skip used once
start 00000000

Symbol: start
   Definitions
      At line 8 in file App.s
   Uses
      At line 7 in file App.s
Comment: start used once
stop 00000050

Symbol: stop
   Definitions
      At line 56 in file App.s
   Uses
      At line 56 in file App.s
Comment: stop used once
6 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

IO1CLR E002801C

Symbol: IO1CLR
   Definitions
      At line 13 in file App.s
   Uses
      At line 21 in file App.s
Comment: IO1CLR used once
IO1DIR E0028018

Symbol: IO1DIR
   Definitions
      At line 11 in file App.s
   Uses
      At line 16 in file App.s
Comment: IO1DIR used once
IO1PIN E0028010

Symbol: IO1PIN
   Definitions
      At line 14 in file App.s
   Uses
      At line 23 in file App.s
Comment: IO1PIN used once
IO1SET E0028014

Symbol: IO1SET
   Definitions
      At line 12 in file App.s
   Uses
      At line 19 in file App.s
Comment: IO1SET used once
4 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

main 00000000

Symbol: main
   Definitions
      At line 2 in file App.s
   Uses
      None
Comment: main unused
1 symbol
346 symbols in table
