


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             AsmTemplate, CODE, READONLY
    2 00000000                 IMPORT           main
    3 00000000         
    4 00000000         ; Practical 2 makes the 4 LEDs light up to represent a 3
                       2 bit number
    5 00000000         ; Group 24
    6 00000000         
    7 00000000                 EXPORT           start
    8 00000000         start
    9 00000000         
   10 00000000 E59F0044        LDR              R0, =INSTR
   11 00000004 E59F1044        LDR              R1, =LUT
   12 00000008 E3A0D00A        MOV              R13, #10
   13 0000000C E3500000        CMP              R0, #0
   14 00000010 5A000001        BPL              pos
   15 00000014         
   16 00000014         ;negating the value of R1 and changing the sign
   17 00000014 E2600000        NEG              R0, R0
   18 00000018 E3A0D00B        MOV              R13, #11
   19 0000001C         
   20 0000001C         pos
   21 0000001C         
   22 0000001C         
   23 0000001C         
   24 0000001C 00000419 
                       INSTR   DCD              1049
   25 00000020         
   26 00000020 3B9ACA00 
              05F5E100 
              00989680 
              000F4240 
              000186A0 
              00002710 
              000003E8 
              00000064 
              0000000A 
              00000001 LUT     DCD              1000000000, 100000000, 10000000
, 1000000, 100000, 10000, 1000, 100, 10, 1
   27 00000048         
   28 00000048         
   29 00000048         ;IO1DIR EQU 0xE0028018
   30 00000048         ;IO1SET EQU 0xE0028014
   31 00000048         ;IO1CLR EQU 0xE002801C
   32 00000048         
   33 00000048         ;ldr r1,=IO1DIR
   34 00000048         ;ldr r2,=0x000f0000 ;select P1.19--P1.16
   35 00000048         ;str r2,[r1]  ;make them outputs
   36 00000048         ;ldr r1,=IO1SET
   37 00000048         ;str r2,[r1]  ;set them to turn the LEDs off
   38 00000048         ;ldr r2,=IO1CLR
   39 00000048         ;; r1 points to the SET register
   40 00000048         ;; r2 points to the CLEAR register
   41 00000048         
   42 00000048         ;ldr r5,=0x00100000 ; end when the mask reaches this val
                       ue
   43 00000048         ;wloop ldr r3,=0x00010000 ; start with P1.16.
   44 00000048         ;floop str r3,[r2]     ; clear the bit -> turn on the LE
                       D
   45 00000048         



ARM Macro Assembler    Page 2 


   46 00000048         ;;delay for about a half second
   47 00000048         ;ldr r4,=1000000
   48 00000048         ;dloop subs r4,r4,#1
   49 00000048         ;bne dloop
   50 00000048         
   51 00000048         ;str r3,[r1]  ;set the bit -> turn off the LED
   52 00000048         ;mov r3,r3,lsl #1 ;shift up to next bit. P1.16 -> P1.17 
                       etc.
   53 00000048         ;cmp r3,r5
   54 00000048         ;bne floop
   55 00000048         ;b wloop
   56 00000048 EAFFFFFE 
                       stop    B                stop
   57 0000004C         
   58 0000004C                 END
              00000000 
              00000000 
Command Line: --debug --xref --diag_suppress=9931 --apcs=interwork --depend=.\a
pp.d -o.\app.o -IC:\Keil_v5\ARM\RV31\INC -IC:\Keil_v5\ARM\CMSIS\Include -IC:\Ke
il_v5\ARM\INC\Philips --predefine="__EVAL SETA 1" --predefine="__MICROLIB SETA 
1" --predefine="__UVISION_VERSION SETA 525" --list=.\listings\app.lst App.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

AsmTemplate 00000000

Symbol: AsmTemplate
   Definitions
      At line 1 in file App.s
   Uses
      None
Comment: AsmTemplate unused
INSTR 0000001C

Symbol: INSTR
   Definitions
      At line 24 in file App.s
   Uses
      At line 10 in file App.s
Comment: INSTR used once
LUT 00000020

Symbol: LUT
   Definitions
      At line 26 in file App.s
   Uses
      At line 11 in file App.s
Comment: LUT used once
pos 0000001C

Symbol: pos
   Definitions
      At line 20 in file App.s
   Uses
      At line 14 in file App.s
Comment: pos used once
start 00000000

Symbol: start
   Definitions
      At line 8 in file App.s
   Uses
      At line 7 in file App.s
Comment: start used once
stop 00000048

Symbol: stop
   Definitions
      At line 56 in file App.s
   Uses
      At line 56 in file App.s
Comment: stop used once
6 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

main 00000000

Symbol: main
   Definitions
      At line 2 in file App.s
   Uses
      None
Comment: main unused
1 symbol
342 symbols in table
